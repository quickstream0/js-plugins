function search(e){return`/search/${e}`}function details(e,t){return`${e}/${t}`}function trending(e,t){return`/trending/${e}/${t}`}function discover(e){return`/discover/${e}`}function popular(e){return`/${e}/popular`}function topRated(e){return`/${e}/top_rated`}function tvSeasonDetails(e,t){return`/${details("tv",e)}/season/${t}`}function getRandomItem(e){const t=Math.floor(Math.random()*e.length);return e[t]}async function searchItem(e,t){const a={headers:{query:e,api_key:apiKey}};try{const e=search(t),n=`${BASE_URL}${e}`,i=await fetch(n,a);return await i.json()}catch(e){return console.error("Error searching for items:",e.message),null}}async function getHomeItems(){try{const e=await getFeaturedTv(),t=await getFeaturedMovies(),a=await getAiringTv(),n=await getNowPlayingMovies(),i=await getPopularTvs(),r=await getPopularMovies(),s=await getTrendingTvs(),o=await getTrendingMovies(),c=await getTopRatedTvs(),d=await getTopRatedMovies();return[{name:"Featured Tv Shows",id:"/tv/airing_today",media:e},{name:"Featured Movies",id:"/tv/airing_today",media:t},{name:"Airing TV",id:"/tv/airing_today",media:a},{name:"Now Playing Movies",id:"/movie/now_playing",media:n},{name:"Popular TV",id:popular("tv"),media:i},{name:"Popular Movies",id:popular("movie"),media:r},{name:"Trending TV",id:trending("tv","week"),media:s},{name:"Trending Movies",id:trending("movie","week"),media:o},{name:"Top Rated TV",id:topRated("type"),media:c},{name:"Top Rated Movies",id:topRated("type"),media:d}]}catch(e){return console.error("Error fetching home items:",e.message),[]}}async function getFeaturedTv(){const e={headers:{with_genres:tvGenre,first_air_date_year:tvYear,api_key:apiKey}},t=`${discover("tv")}`,a=`${BASE_URL}${t}`,n=await fetch(a,e);return await n.json()}async function getFeaturedMovies(){const e={headers:{with_genres:movieGenre,primary_release_year:movieYear,api_key:apiKey}},t=`${discover("movie")}`,a=`${BASE_URL}${t}`,n=await fetch(a,e);return await n.json()}async function getAiringTv(){const e="/tv/airing_today",t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getNowPlayingMovies(){const e="/movie/now_playing",t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getPopularTvs(){const e=popular("tv"),t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getPopularMovies(){const e=popular("movie"),t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getTrendingTvs(){const e=trending("tv","week"),t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getTrendingMovies(){const e=trending("movie","week"),t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getTopRatedTvs(){const e=topRated("tv"),t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getTopRatedMovies(){const e=topRated("movie"),t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getItems(e){const t=`${BASE_URL}${e}`,a=await fetch(t,options);return await a.json()}async function getItemDetails(e,t){const a={headers:{api_key:apiKey,append_to_response:appendToResponse}};try{const n=details(e,t),i=`${BASE_URL}${n}`,r=await fetch(i,a);return await r.json()}catch(e){return console.error("Error fetching item details:",e.message),null}}async function getItemSeasonDetails(e,t){try{const a={headers:{api_key:apiKey}},n=tvSeasonDetails(e,t),i=`${BASE_URL}${n}`,r=await fetch(i,a);return await r.json()}catch(e){return console.error("Error fetching item details:",e.message),null}}async function run(e){try{if(!e||"object"!=typeof e)return JSON.stringify({success:!1,error:"Parameters must be an object."});const{mode:t}=e;if(!t)return JSON.stringify({success:!1,error:"Missing mode parameter."});let a;switch(t){case"search":{const{query:t}=e;if(!t||"string"!=typeof t)return JSON.stringify({success:!1,error:'Missing or invalid "query" parameter for search mode.'});a=await searchItem(t);break}case"home":a=await getHomeItems();break;case"items":{const{id:t}=e;if(!t)return JSON.stringify({success:!1,error:'Missing "id" parameter for items mode.'});a=await getItems(t);break}case"details":{const{type:t,id:n}=e;if(!t||!n)return JSON.stringify({success:!1,error:'Missing "type" or "id" parameter for details mode.'});a=await getItemDetails(t,n);break}case"seasonDetails":{const{id:t,sn:n}=e;if(!t||null==n)return JSON.stringify({success:!1,error:'Missing "id" or "sn" parameter for seasonDetails mode.'});a=await getItemSeasonDetails(t,n);break}default:return JSON.stringify({success:!1,error:`Invalid mode: ${t}`})}return JSON.stringify({success:!0,data:a})}catch(e){return JSON.stringify({success:!1,error:e.message||String(e)})}}var BASE_URL="https://api.themoviedb.org/3",movieGenres=[28,12,16,35,80,99,18,10751,14,36,27,10402,9648,10749,878,10770,53,10752,37],tvGenres=[10759,16,35,80,99,18,10751,10762,9648,10763,10764,10765,10766,10767,10768,37],releaseYears=[2025,2024,2023,2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003,2002,2001,2e3,1999,1998,1997,1996,1995,1994,1993,1992,1991,1990,1989,1988,1987,1986,1985],apiKeys=["7070e2fe1f83238edc3ada49acb2cb25","cdd513a4c476f9ad79cbe4c0eb6c8ed0","7502b8c031c79790fe5c0b4f94fd770d"],tvGenre=getRandomItem(tvGenres),movieGenre=getRandomItem(movieGenres),tvYear=getRandomItem(releaseYears),movieYear=getRandomItem(releaseYears),apiKey=getRandomItem(apiKeys),options={headers:{api_key:apiKey}},appendToResponse="credits,videos,reviews,similar,external_ids,recommendations";globalThis.run=run;