function getRandomItem(e){const t=Math.floor(Math.random()*e.length);return e[t]}function search(e,t){return t?`/search/${t}?query=${e}&api_key=${apiKey2}`:`/search/multi?query=${e}&api_key=${apiKey2}`}function details(e,t){return`${e}/${t}?api_key=${apiKey2}&append_to_response=${appendToResponse}`}function trending(e,t){return`/trending/${e}/${t}?api_key=${apiKey2}`}function discover(e){return`/discover/${e}?api_key=${apiKey2}`}function popular(e){return`/${e}/popular?api_key=${apiKey2}`}function topRated(e){return`/${e}/top_rated?api_key=${apiKey2}`}function tvSeasonDetails(e,t){return`/${details("tv",e)}/season/${t}?api_key=${apiKey2}`}async function searchItem(e,t){try{const a=search(e,t),i=`${BASE_URL}${a}`,r=await fetch(i);return await r.json()}catch(e){return console.error("Error searching for items:",e.message),null}}async function getHomeItems(){try{const e=await getFeaturedTv(),t=await getFeaturedMovies(),a=await getAiringTv(),i=await getNowPlayingMovies(),r=await getPopularTvs(),n=await getPopularMovies(),s=await getTrendingTvs(),o=await getTrendingMovies(),c=await getTopRatedTvs(),d=await getTopRatedMovies();return[{name:"Featured Tv Shows",id:"/tv/airing_today",media:e},{name:"Featured Movies",id:"/tv/airing_today",media:t},{name:"Airing TV",id:"/tv/airing_today",media:a},{name:"Now Playing Movies",id:"/movie/now_playing",media:i},{name:"Popular TV",id:popular("tv"),media:r},{name:"Popular Movies",id:popular("movie"),media:n},{name:"Trending TV",id:trending("tv","week"),media:s},{name:"Trending Movies",id:trending("movie","week"),media:o},{name:"Top Rated TV",id:topRated("type"),media:c},{name:"Top Rated Movies",id:topRated("type"),media:d}]}catch(e){return console.error("Error fetching home items:",e.message),[]}}async function getFeaturedTv(){const e=`${discover("tv")}`,t=`${BASE_URL}${e}&with_genres=${tvGenre}&first_air_date_year=${tvYear}`,a=await fetch(t);return await a.json()}async function getFeaturedMovies(){const e=`${discover("movie")}`,t=`${BASE_URL}${e}&with_genres=${movieGenre}&first_air_date_year=${movieYear}`,a=await fetch(t);return await a.json()}async function getAiringTv(){const e="/tv/airing_today",t=`${BASE_URL}${e}`,a=await fetch(t);return await a.json()}async function getNowPlayingMovies(){const e="/movie/now_playing",t=`${BASE_URL}${e}`,a=await fetch(t);return await a.json()}async function getPopularTvs(){const e=popular("tv"),t=`${BASE_URL}${e}`,a=await fetch(t);return await a.json()}async function getPopularMovies(){const e=popular("movie"),t=`${BASE_URL}${e}`,a=await fetch(t);return await a.json()}async function getTrendingTvs(){const e=trending("tv","week"),t=`${BASE_URL}${e}`,a=await fetch(t);return await a.json()}async function getTrendingMovies(){const e=trending("movie","week"),t=`${BASE_URL}${e}`,a=await fetch(t);return await a.json()}async function getTopRatedTvs(){const e=topRated("tv"),t=`${BASE_URL}${e}`,a=await fetch(t);return await a.json()}async function getTopRatedMovies(){const e=topRated("movie"),t=`${BASE_URL}${e}`,a=await fetch(t);return await a.json()}async function getItems(e){const t=`${BASE_URL}${e}?api_key=${apiKey}`,a=await fetch(t);return await a.json()}async function getItemDetails(e,t){try{const a=details(e,t),i=`${BASE_URL}${a}`,r=await fetch(i);return await r.json()}catch(e){return console.error("Error fetching item details:",e.message),null}}async function getItemSeasonDetails(e,t){try{const a=tvSeasonDetails(e,t),i=`${BASE_URL}${a}`,r=await fetch(i);return await r.json()}catch(e){return console.error("Error fetching item details:",e.message),null}}async function run(e){try{if(!e||"object"!=typeof e)return JSON.stringify({success:!1,error:"Parameters must be an object."});const{mode:t}=e;if(!t)return JSON.stringify({success:!1,error:"Missing mode parameter."});let a;switch(t){case"search":{const{query:t}=e,{type:i}=e;if(!t||"string"!=typeof t)return JSON.stringify({success:!1,error:'Missing or invalid "query" parameter for search mode.'});a=await searchItem(t,i);break}case"home":a=await getHomeItems();break;case"items":{const{id:t}=e;if(!t)return JSON.stringify({success:!1,error:'Missing "id" parameter for items mode.'});a=await getItems(t);break}case"details":{const{type:t,id:i}=e;if(!t||!i)return JSON.stringify({success:!1,error:'Missing "type" or "id" parameter for details mode.'});a=await getItemDetails(t,i);break}case"seasonDetails":{const{id:t,sn:i}=e;if(!t||null==i)return JSON.stringify({success:!1,error:'Missing "id" or "sn" parameter for seasonDetails mode.'});a=await getItemSeasonDetails(t,i);break}default:return JSON.stringify({success:!1,error:`Invalid mode: ${t}`})}return JSON.stringify({success:!0,data:a})}catch(e){return JSON.stringify({success:!1,error:e.message||String(e)})}}var BASE_URL="https://api.themoviedb.org/3",movieGenres=[28,12,16,35,80,99,18,10751,14,36,27,10402,9648,10749,878,10770,53,10752,37],tvGenres=[10759,16,35,80,99,18,10751,10762,9648,10763,10764,10765,10766,10767,10768,37],releaseYears=[2025,2024,2023,2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003,2002,2001,2e3,1999,1998,1997,1996,1995,1994,1993,1992,1991,1990,1989,1988,1987,1986,1985],apiKeys=["7070e2fe1f83238edc3ada49acb2cb25","cdd513a4c476f9ad79cbe4c0eb6c8ed0","7502b8c031c79790fe5c0b4f94fd770d"],tvGenre=getRandomItem(tvGenres),movieGenre=getRandomItem(movieGenres),tvYear=getRandomItem(releaseYears),movieYear=getRandomItem(releaseYears),apiKey2=getRandomItem(apiKeys),appendToResponse="credits,videos,reviews,similar,external_ids,recommendations";globalThis.run=run;